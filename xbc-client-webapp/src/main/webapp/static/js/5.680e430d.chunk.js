webpackJsonp([5],{138:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var a=n(0),o=n.n(a),i=function(e){var t=e.children,n=e.className,a=void 0===n?"":n,i=r(e,["children","className"]);return o.a.createElement("label",Object.assign({},i,{className:"label"+(a?" "+a:"")}),t)};t.a=i},140:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.children,n=(e.type,e.className),a=e.dataTest,o=e.is,s=void 0===o?"5":o,c=e.as,l=void 0===c?"h5":c,u=r(e,["children","type","className","dataTest","is","as"]);return i.a.createElement(l,Object.assign({},u,{"data-test":a,className:"subtitle is-"+s+(n?" "+n:"")}),t)}var o=n(0),i=n.n(o);t.a=a},141:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.className,n=e.children,a=r(e,["className","children"]);return i.a.createElement("div",Object.assign({},a,{className:"columns"+(t?" "+t:"")}),n)}t.a=a;var o=n(0),i=n.n(o)},142:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.className,n=e.children,a=r(e,["className","children"]);return i.a.createElement("div",Object.assign({},a,{className:"column"+(t?" "+t:"")}),n)}t.a=a;var o=n(0),i=n.n(o)},143:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),c=n(13),l=n(140),u=n(144),f=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),p=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"render",value:function(){var e=this.props.sessionContext.pageCode;return s.a.createElement("div",{id:"PageContainer"},s.a.createElement("div",{className:"header-container"},s.a.createElement("div",{className:"pageCode-container"},s.a.createElement(l.a,null,e)),s.a.createElement("div",{className:"title-container"},s.a.createElement(l.a,null,this.props.title),s.a.createElement("hr",null))),this.props.children)}}]),t}(s.a.Component);t.a=Object(c.a)(p)},144:function(e,t,n){var r=n(145);"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!1};a.transform=void 0;n(133)(r,a);r.locals&&(e.exports=r.locals)},145:function(e,t,n){t=e.exports=n(132)(!0),t.push([e.i,"#PageContainer{height:100%;width:100%;background-color:#f9f9f9;overflow:auto}#PageContainer label{font-weight:500}#PageContainer .header-container{padding-top:30px;display:-ms-flexbox;display:flex}#PageContainer .header-container .pageCode-container{height:50px;padding:10px;border:.2px solid #dedede;background-color:#fff;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:125px;-webkit-box-shadow:3px 3px 4px hsla(0,0%,81%,.25);box-shadow:3px 3px 4px hsla(0,0%,81%,.25)}#PageContainer .header-container .pageCode-container .subtitle{font-size:20px;font-weight:700}#PageContainer .header-container .title-container{-ms-flex-positive:1;flex-grow:1;padding-left:20px;padding-right:0}#PageContainer .header-container .title-container .subtitle{font-weight:500}div[dir=rtl] #PageContainer .pageCode-container{border-top-left-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:0;border-bottom-right-radius:0}div[dir=rtl] #PageContainer .title-container{padding-right:20px;padding-left:0}","",{version:3,sources:["C:/Users/tommy.tan/Documents/git/nic-xbc-client/src/components/PageContainer/PageContainer.css"],names:[],mappings:"AAAA,eACE,YAAa,AACb,WAAY,AACZ,yBAA0B,AAC1B,aAAe,CAAE,AACjB,qBACE,eAAiB,CAAE,AACrB,iCACE,iBAAkB,AAClB,oBAAqB,AACrB,YAAc,CAAE,AAChB,qDACE,YAAa,AACb,aAAc,AACd,0BAA4B,AAC5B,sBAA0B,AAC1B,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,mBAAoB,AACxB,YAAa,AACb,kDAA0D,AAClD,yCAAkD,CAAE,AAC5D,+DACE,eAAgB,AAChB,eAAkB,CAAE,AACxB,kDACE,oBAAqB,AACjB,YAAa,AACjB,kBAAmB,AACnB,eAAiB,CAAE,AACnB,4DACE,eAAiB,CAAE,AAE3B,gDACE,2BAA4B,AAC5B,8BAA+B,AAC/B,0BAA2B,AAC3B,4BAA8B,CAAE,AAElC,6CACE,mBAAoB,AACpB,cAAgB,CAAE",file:"PageContainer.css",sourcesContent:['#PageContainer {\n  height: 100%;\n  width: 100%;\n  background-color: #F9F9F9;\n  overflow: auto; }\n  #PageContainer label {\n    font-weight: 500; }\n  #PageContainer .header-container {\n    padding-top: 30px;\n    display: -ms-flexbox;\n    display: flex; }\n    #PageContainer .header-container .pageCode-container {\n      height: 50px;\n      padding: 10px;\n      border: 0.2px solid #DEDEDE;\n      background-color: #ffffff;\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex-align: center;\n          align-items: center;\n      width: 125px;\n      -webkit-box-shadow: 3px 3px 4px rgba(207, 207, 207, 0.25);\n              box-shadow: 3px 3px 4px rgba(207, 207, 207, 0.25); }\n      #PageContainer .header-container .pageCode-container .subtitle {\n        font-size: 20px;\n        font-weight: bold; }\n    #PageContainer .header-container .title-container {\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n      padding-left: 20px;\n      padding-right: 0; }\n      #PageContainer .header-container .title-container .subtitle {\n        font-weight: 500; }\n\ndiv[dir="rtl"] #PageContainer .pageCode-container {\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0; }\n\ndiv[dir="rtl"] #PageContainer .title-container {\n  padding-right: 20px;\n  padding-left: 0; }\n'],sourceRoot:""}])},151:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),c=(n.n(s),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=r(e,["className"]);return s.createElement("div",Object.assign({},n,{className:"box"+(t?" "+t:"")}),this.props.children)}}]),t}(s.Component);t.a=l},155:function(e,t,n){e.exports=n(156)},156:function(e,t,n){var r=function(){return this}()||Function("return this")(),a=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=a&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(157),a)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},157:function(e,t){!function(t){"use strict";function n(e,t,n,r){var o=t&&t.prototype instanceof a?t:a,i=Object.create(o.prototype),s=new d(r||[]);return i._invoke=l(e,n,s),i}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function a(){}function o(){}function i(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){function t(n,a,o,i){var s=r(e[n],e,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"===typeof l&&A.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,o,i)},function(e){t("throw",e,o,i)}):Promise.resolve(l).then(function(e){c.value=e,o(c)},i)}i(s.arg)}function n(e,n){function r(){return new Promise(function(r,a){t(e,n,r,a)})}return a=a?a.then(r,r):r()}var a;this._invoke=n}function l(e,t,n){var a=N;return function(o,i){if(a===B)throw new Error("Generator is already running");if(a===O){if("throw"===o)throw i;return h()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=u(s,n);if(c){if(c===S)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===N)throw a=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=B;var l=r(e,t,n);if("normal"===l.type){if(a=n.done?O:_,l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=O,n.method="throw",n.arg=l.arg)}}}function u(e,t){var n=e.iterator[t.method];if(n===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,u(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var a=r(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,S;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,S):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function m(e){if(e){var t=e[C];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(A.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g,t.done=!0,t};return r.next=r}}return{next:h}}function h(){return{value:g,done:!0}}var g,v=Object.prototype,A=v.hasOwnProperty,y="function"===typeof Symbol?Symbol:{},C=y.iterator||"@@iterator",E=y.asyncIterator||"@@asyncIterator",b=y.toStringTag||"@@toStringTag",x="object"===typeof e,w=t.regeneratorRuntime;if(w)return void(x&&(e.exports=w));w=t.regeneratorRuntime=x?e.exports:{},w.wrap=n;var N="suspendedStart",_="suspendedYield",B="executing",O="completed",S={},P={};P[C]=function(){return this};var R=Object.getPrototypeOf,j=R&&R(R(m([])));j&&j!==v&&A.call(j,C)&&(P=j);var T=i.prototype=a.prototype=Object.create(P);o.prototype=T.constructor=i,i.constructor=o,i[b]=o.displayName="GeneratorFunction",w.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},w.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,b in e||(e[b]="GeneratorFunction")),e.prototype=Object.create(T),e},w.awrap=function(e){return{__await:e}},s(c.prototype),c.prototype[E]=function(){return this},w.AsyncIterator=c,w.async=function(e,t,r,a){var o=new c(n(e,t,r,a));return w.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(T),T[b]="Generator",T[C]=function(){return this},T.toString=function(){return"[object Generator]"},w.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},w.values=m,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&A.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var i=A.call(a,"catchLoc"),s=A.call(a,"finallyLoc");if(i&&s){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&A.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,S):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),p(n),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;p(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:m(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),S}}}(function(){return this}()||Function("return this")())},204:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(){var e,n,o,i;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={animate:"zoomIn"},o.hideModal=function(){o.setState({animate:"zoomOut"},function(){setTimeout(function(){o.props.hideModal&&o.props.hideModal()},200)})},i=n,a(o,i)}return o(t,e),c(t,[{key:"render",value:function(){return this.props.isCardModal?s.a.createElement("div",{className:"modal is-active"},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"function"===typeof this.props.modalTitle?this.props.modalTitle():this.props.modalTitle),s.a.createElement("button",{className:"delete is-large","aria-label":"close",onClick:this.hideModal})),s.a.createElement("section",{className:"modal-card-body"},"function"===typeof this.props.content?this.props.content():this.props.content),s.a.createElement("footer",{className:"modal-card-foot"},"function"===typeof this.props.footer?this.props.footer():this.props.footer))):s.a.createElement("div",{className:"modal is-active"},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-content animated "+this.state.animate},"function"===typeof this.props.content?this.props.content():this.props.content),!this.props.hideCloseBtn&&s.a.createElement("button",{className:"modal-close is-large","aria-label":"close",onClick:this.hideModal}))}}]),t}(s.a.Component);t.a=l},378:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(155),c=n.n(s),l=n(0),u=n.n(l),f=n(19),p=n.n(f),d=n(161),m=n(42),h=n(149),g=n(13),v=n(40),A=n(379),y=n(154),C=n(152),E=n(138),b=n(151),x=n(41),w=n(141),N=n(142),_=n(153),B=n(204),O=n(143),S=n(39),P=n(380),R=(n.n(P),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),j=m.c.ARRIVAL,T=m.b.COMPLETE,k=m.b.UPDATE,D="ws://localhost:6178/BioKit/server",I={INIT_DEVICE:"INIT_DEVICE",CAPTURE:"CAPTURE",CANCEL_CAPTURE:"CANCEL_CAPTURE",START_PREVIEW:"START_PREVIEW"},L={SUCCESS:"SUCCESS",NODEVICE:"NO DEVICE FOUND. PLEASE CONNECT ATLEAST ONE DEVICE"},F="FINGER",U=13,q="1",M=void 0,W={isDeviceReady:!1,isCapturing:!1,isMaxReconnectAttemptsReached:!1,isCaptureComplete:!1,message:""},V=function(e){function t(e){var n=this;a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._setState=i.setState,i.onOpen=function(e){console.log("Connected!",e),i.initDevice()},i.onMessage=function(e){var t=e.data&&JSON.parse(e.data);if(console.log("Received:",e,t),t.operation)switch(t.operation){case I.INIT_DEVICE:i.handleInitDevice(t);break;case I.START_PREVIEW:i.handlePreview(t.previewImage);break;case I.CAPTURE:case I.CANCEL_CAPTURE:i.handleCapture(t)}},i.onClose=function(e){console.log("Closed!",e),i._setState&&i._setState(function(e){return Object.assign({},W,{isMaxReconnectAttemptsReached:e.isMaxReconnectAttemptsReached})})},i.onError=function(e){console.log("Error:",e)},i.onMaximum=function(e){console.log("Max Attempts Reached!",e),i._setState&&i._setState(Object.assign({},W,{isMaxReconnectAttemptsReached:!0}))},i.closeWs=function(){M.close()},i.startCapture=function(){i._setState&&i._setState(function(e){return Object.assign({},W,{isCapturing:!0,isDeviceReady:e.isDeviceReady})},function(){var e={type:F,position:U,operation:I.CAPTURE,expectedFingersCount:q,needIcaoCropping:!0,transactionId:(new Date).getTime().toString(),segmentationRequired:!1,wsqRequired:!1,segmentedWsqRequired:!1,missingFingersList:[],returnCode:0,isEnd:!1,noTimeout:!1,isWrongSlap:!1,currentDeviceName:"GUARDIAN 200"};console.log("-------CAPTURE:",e),M.json(e)})},i.cancelCapture=function(){var e={type:F,position:U,operation:I.CANCEL_CAPTURE,needIcaoCropping:!0,transactionId:(new Date).getTime().toString(),segmentationRequired:!1,wsqRequired:!1,segmentedWsqRequired:!1,returnCode:0,isEnd:!1,noTimeout:!1,isWrongSlap:!1,currentDeviceName:"GUARDIAN 200"};console.log("-------CANCEL CAPTURE:",e),M.json(e)},i.openWs=function(){i._setState&&i._setState(Object.assign({},W),function(){var e={timeout:5e3,maxAttempts:6,onopen:i.onOpen,onmessage:i.onMessage,onreconnect:i.onReconnect,onmaximum:i.onMaximum,onclose:i.onClose,onerror:i.onError};M=new A.a(D,e)})},i.changeFinger=function(e){return i._setState&&i._setState({finger:e})},i.next=function(){var e=i.props.sessionContext;i._setState&&i._setState({currentState:"loading"},r(c.a.mark(function t(){var r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.searchCwl();case 3:if(r=t.sent){t.next=9;break}return t.next=7,i.completeCrossing();case 7:return t.next=9,i.updateCrossing();case 9:t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("------- error next:",t.t0),e.addNotification({message:t.t0}),i._setState&&i._setState({currentState:"idle"});case 16:case"end":return t.stop()}},t,n,[[0,11]])})))},i.completeCrossing=r(c.a.mark(function e(){var t,r,a,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.props,r=t.apiService.post,a=t.crossingContext,o={crossingDetailsBasicForm:{travelerId:a.personId,crossingStatus:"cross",clear:!0}},e.next=5,r({method:"PUT",url:Object(v.b)(T,a.travelerType,a.crossingType),data:o});case 5:case"end":return e.stop()}},e,n)})),i.updateCrossing=r(c.a.mark(function e(){var t,r,a,o,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.props,r=t.apiService.post,a=t.crossingContext,o=t.history,s={citizenEntryBasicDetailsForm:{travelerId:a.personId,travelPassNumber:a.travelPassNumber,travelPassReason:a.travelPassReason,dependents:a.dependents.filter(function(e){return e.active}).map(function(e){return{dependentId:e.personId}})}},e.next=4,r({method:"PUT",url:Object(v.b)(k,a.travelerType,a.crossingType),data:s});case 4:l=e.sent,i._setState&&i._setState({currentState:"success"},function(){setTimeout(function(){o.push(S.b.crossing.search)},1e3)});case 6:case"end":return e.stop()}},e,n)})),i.state=Object.assign({},W,{finger:"rightIndex",imageData:"",currentState:"idle"}),i}return i(t,e),R(t,[{key:"initDevice",value:function(){this._setState&&this._setState(Object.assign({},W),function(){var e={type:F,position:U,operation:I.INIT_DEVICE,needIcaoCropping:!0,transactionId:(new Date).getTime().toString(),segmentationRequired:!1,wsqRequired:!1,segmentedWsqRequired:!1,returnCode:0,isEnd:!1,noTimeout:!1,isWrongSlap:!1};M.json(e)})}},{key:"handlePreview",value:function(e){this._setState&&this._setState({imageData:e})}},{key:"handleCapture",value:function(e){var t=this,n=e.operation,r=e.returnMessage,a=e.finalImage;switch(n){case I.CAPTURE:r===L.SUCCESS?this._setState&&this._setState(function(e){return Object.assign({},W,{imageData:a,isCaptureComplete:!0,isDeviceReady:e.isDeviceReady})}):r===L.NODEVICE&&this._setState&&this._setState({message:r,isDeviceReady:!1},function(){setTimeout(function(){t.initDevice()},2e3)});break;case I.CANCEL_CAPTURE:this._setState&&this._setState(function(e){return Object.assign({},W,{isDeviceReady:e.isDeviceReady})})}}},{key:"handleInitDevice",value:function(e){var t=this,n=e.returnMessage;switch(n){case L.SUCCESS:this._setState&&this._setState({isDeviceReady:!0,message:""});break;case L.NODEVICE:this._setState&&this._setState({message:n,isDeviceReady:!1},function(){setTimeout(function(){t.initDevice()},2e3)});break;default:this._setState&&this._setState({message:""})}}},{key:"onReconnect",value:function(e){console.log("Reconnecting...",e)}},{key:"componentDidMount",value:function(){this.openWs()}},{key:"componentWillUnmount",value:function(){this._setState=null,this.closeWs()}},{key:"searchCwl",value:function(){function e(){return t.apply(this,arguments)}var t=r(c.a.mark(function e(){var t,n,r,a,o,i,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,n=this.props,r=n.apiService,a=r.post,o=r.urls,i=n.crossingContext,s=n.history,e.next=4,a({url:o.crossing.searchCwl,data:{consolidatedWatchListBasicSearchForm:{travelerId:i.personId,fingerPosition:"string",fingerData:"string",sourceId:"string"}}});case 4:return l=e.sent,e.abrupt("return",new Promise(function(e){return setTimeout(function(){l.borderHitWrappers&&l.borderHitWrappers.length?(t=!0,i._setState({borderHitWrappers:l.borderHitWrappers}),s.push(S.b.crossing.hitReport)):e(t)},1e3)}));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=this,t=this.state,n=t.finger,r=t.isDeviceReady,a=t.message,o=t.isMaxReconnectAttemptsReached,i=t.isCaptureComplete,s=t.isCapturing,c=t.currentState,l=t.imageData,f=this.props.crossingContext,d=f.travelerType,m=f.personId,h=f.firstName,g=f.fatherName,v=f.grandfatherName,A=f.familyName,S=f.crossingType,P="loading"===c?p.a.get("searchingMsg"):"success"===c?S===j?p.a.get("entryClearedMsg"):p.a.get("exitClearedMsg"):"";return u.a.createElement(O.a,{title:p.a.get("fingerVerification").d("fingerVerification")},u.a.createElement("div",{id:"finger-verification",className:"container"},u.a.createElement(w.a,null,u.a.createElement(N.a,{className:"is-narrow"},u.a.createElement(E.a,{className:"is-small"},p.a.get("firstName")),u.a.createElement("div",null,h)),u.a.createElement(N.a,{className:"is-narrow"},u.a.createElement(E.a,{className:"is-small"},p.a.get("fatherName")),u.a.createElement("div",null,g)),u.a.createElement(N.a,{className:"is-narrow"},u.a.createElement(E.a,{className:"is-small"},p.a.get("grandfatherName")),u.a.createElement("div",null,v)),u.a.createElement(N.a,{className:"is-narrow"},u.a.createElement(E.a,{className:"is-small"},p.a.get("familyName")),u.a.createElement("div",null,A))),u.a.createElement(w.a,null,u.a.createElement(N.a,{className:"is-narrow"},u.a.createElement(E.a,{className:"is-small"},p.a.get("idNumber")),u.a.createElement("div",null,m)),u.a.createElement(N.a,{className:"is-narrow"},u.a.createElement(E.a,{className:"is-small"},p.a.get("idType").d("idType")),u.a.createElement("div",null,d))),u.a.createElement("div",null,r?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,u.a.createElement(x.a,{icon:"fa fa-check",style:{color:"limegreen"}}),p.a.get("deviceIsReady")),u.a.createElement("div",{className:"buttons",style:{marginTop:"1em"}},u.a.createElement(_.a,{onClick:this.startCapture,disabled:s,className:"is-primary has-shadow"},p.a.get("startCapture")),u.a.createElement(_.a,{onClick:this.cancelCapture,className:"is-primary has-shadow",disabled:!s},p.a.get("cancelCapture")))):u.a.createElement(u.a.Fragment,null,!o&&u.a.createElement("div",null,u.a.createElement(x.a,{icon:"fa fa-spinner fa-pulse"}),p.a.get("deviceNotReady")),u.a.createElement("div",{style:{marginTop:"1em"}},o&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{style:{marginBottom:".5em"}},u.a.createElement(x.a,{icon:"fa fa-times",style:{color:"red"}}),"\xa0",p.a.get("failedToConnect")),u.a.createElement(_.a,{onClick:this.openWs,className:"is-primary has-shadow"},p.a.get("retryConnection"))))),a&&u.a.createElement("div",null,a)),u.a.createElement("div",{style:{marginTop:"1em",marginBottom:"1em"}},u.a.createElement(b.a,{className:"fingerprint-box"},l&&u.a.createElement(C.a,{src:"data:image/png;base64, "+l,style:{objectFit:"contain",position:"absolute"}}))),u.a.createElement("div",{className:"buttons has-addons"},u.a.createElement(_.a,{className:"leftIndex"===n?"is-primary":"inactive",onClick:function(){return e.changeFinger("leftIndex")}},p.a.get("leftIndex").d("leftIndex")),u.a.createElement(_.a,{className:"rightIndex"===n?"is-primary":"inactive",onClick:function(){return e.changeFinger("rightIndex")}},p.a.get("rightIndex").d("rightIndex"))),u.a.createElement("div",{className:"buttons",style:{justifyContent:"flex-end"}},u.a.createElement(y.a,{to:"/authenticated/crossing/searchresult",className:"button has-shadow"},p.a.get("backBtn")),u.a.createElement(_.a,{onClick:this.next,className:"is-primary has-shadow",disabled:!i},p.a.get("okBtn")))),("loading"===c||"success"===c)&&u.a.createElement(B.a,{content:u.a.createElement(b.a,{style:{minHeight:"175px",display:"flex",justifyContent:"center",flexDirection:"column"}},"loading"===c&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{style:{textAlign:"center"}},u.a.createElement(x.a,{icon:"fa fa-spinner fa-2x fa-pulse"})),u.a.createElement("br",null)),u.a.createElement("div",{style:{textAlign:"center"}},P))}))}}]),t}(u.a.Component);t.default=Object(d.a)(v.a,g.a,h.a)(V)},379:function(e,t,n){"use strict";function r(){}t.a=function(e,t){t=t||{};var n=void 0,a={},o=t.timeout||1e3,i=0,s=this,c=t.maxAttempts||1/0;return a.onmessage=t.onmessage||r,a.onclose=function(e){1e3!==e.code&&1005!==e.code&&s.reconnect(e),(t.onclose||r)(e)},a.onerror=function(e){e&&"ECONNREFUSED"===e.code?s.reconnect(e):(t.onerror||r)(e)},a.onopen=function(e){i=0,(t.onopen||r)(e)},s.open=function(){n=new WebSocket(e,t.protocols);for(var r in a)n[r]=a[r]},s.reconnect=function(e){i++<c?setTimeout(function(n){(t.onreconnect||r)(e),s.open()},o):(t.onmaximum||r)(e)},s.json=function(e){n.send(JSON.stringify(e))},s.send=function(e){n.send(e)},s.close=function(e,t){n.close(e,t)},s.open(),s}},380:function(e,t,n){var r=n(381);"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!1};a.transform=void 0;n(133)(r,a);r.locals&&(e.exports=r.locals)},381:function(e,t,n){t=e.exports=n(132)(!0),t.push([e.i,"#finger-verification{margin:.75rem}#finger-verification .fingerprint-box{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:300px;width:300px;overflow:hidden;position:relative}#finger-verification .button.inactive{background-color:#eee}","",{version:3,sources:["C:/Users/tommy.tan/Documents/git/nic-xbc-client/src/containers/Crossing/FingerVerification/FingerVerification.css"],names:[],mappings:"AAAA,qBACE,aAAgB,CAAE,AAClB,sCACE,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,mBAAoB,AACxB,qBAAsB,AAClB,uBAAwB,AAC5B,aAAc,AACd,YAAa,AACb,gBAAiB,AACjB,iBAAmB,CAAE,AACvB,sCACE,qBAAuB,CAAE",file:"FingerVerification.css",sourcesContent:["#finger-verification {\n  margin: 0.75rem; }\n  #finger-verification .fingerprint-box {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-align: center;\n        align-items: center;\n    -ms-flex-pack: center;\n        justify-content: center;\n    height: 300px;\n    width: 300px;\n    overflow: hidden;\n    position: relative; }\n  #finger-verification .button.inactive {\n    background-color: #eee; }\n"],sourceRoot:""}])}});
//# sourceMappingURL=5.680e430d.chunk.js.map